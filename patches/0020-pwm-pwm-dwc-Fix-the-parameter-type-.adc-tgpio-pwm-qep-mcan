From fcf77b1774bd2ce6f88b8f61def06a81254057d1 Mon Sep 17 00:00:00 2001
From: "Tan, Raymond" <raymond.tan@intel.com>
Date: Wed, 20 Nov 2019 01:40:05 +0800
Subject: [PATCH 20/32] pwm: pwm-dwc: Fix the parameter type in __dwc_configure

Both duty_cyle and period of the pwm_state struct are of type
unsigned int, and using the wrong parameter type of the function
 __dwc_configure will cause the unwanted type casting.

The type casting can cause issue on DIV_ROUND_CLOSEST calls as well.

Signed-off-by: Tan, Raymond
---
 drivers/pwm/pwm-dwc.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/drivers/pwm/pwm-dwc.c b/drivers/pwm/pwm-dwc.c
index 027d0f5ecd2f..30a178955a7a 100644
--- a/drivers/pwm/pwm-dwc.c
+++ b/drivers/pwm/pwm-dwc.c
@@ -70,8 +70,8 @@ static inline void dwc_writel(void __iomem *base, u32 offset, u32 value)
 	writel(value, base + offset);
 }
 
-static void __dwc_configure(struct dwc_pwm *dwc, int pwm, int duty_ns,
-		int period_ns)
+static void __dwc_configure(struct dwc_pwm *dwc, int pwm, unsigned int duty_ns,
+		unsigned int period_ns)
 {
 	u32 ctrl;
 	u32 high;
-- 
2.17.1

