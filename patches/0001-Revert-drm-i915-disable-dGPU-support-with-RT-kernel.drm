From 95a15216d6a46221d4a434c737ebad91d3200ac7 Mon Sep 17 00:00:00 2001
From: Junxiao Chang <junxiao.chang@intel.com>
Date: Fri, 25 Apr 2025 17:02:11 +0800
Subject: [PATCH 1/2] Revert "drm/i915: disable dGPU support with RT kernel"

This reverts commit f5101e127d89c9b94fa7edf824cdd6bdcabe0ae9.

Signed-off-by: Junxiao Chang <junxiao.chang@intel.com>
---
 drivers/gpu/drm/i915/i915_pci.c | 7 -------
 1 file changed, 7 deletions(-)

diff --git a/drivers/gpu/drm/i915/i915_pci.c b/drivers/gpu/drm/i915/i915_pci.c
index a65ab2131a46..b5562d86eb07 100644
--- a/drivers/gpu/drm/i915/i915_pci.c
+++ b/drivers/gpu/drm/i915/i915_pci.c
@@ -973,13 +973,6 @@ static int i915_pci_probe(struct pci_dev *pdev, const struct pci_device_id *ent)
 		(struct intel_device_info *) ent->driver_data;
 	int err;
 
-#ifdef CONFIG_PREEMPT_RT
-	if (intel_info->is_dgfx) {
-		dev_info(&pdev->dev, "dGPU is not supported with RT kernel\n");
-		return -ENODEV;
-	}
-#endif
-
 	if (intel_info->require_force_probe && !id_forced(pdev->device)) {
 		dev_info(&pdev->dev,
 			 "Your graphics device %04x is not properly supported by i915 in this\n"
-- 
2.34.1

