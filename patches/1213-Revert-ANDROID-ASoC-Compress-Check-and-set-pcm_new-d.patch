From e6796f76f7542a38580054481c5c0d6ea383ad59 Mon Sep 17 00:00:00 2001
From: pixiange <xiange.pi@intel.com>
Date: Tue, 10 Nov 2020 20:47:11 -0500
Subject: [PATCH 1213/1214] Revert "ANDROID: ASoC: Compress: Check and set
 pcm_new driver op"

This reverts commit f35f6c67461f20ebaa363a6ff772e890f123c561.
---
 sound/soc/soc-compress.c | 13 -------------
 1 file changed, 13 deletions(-)

diff --git a/sound/soc/soc-compress.c b/sound/soc/soc-compress.c
index 9b1239b..4e6e9b6 100644
--- a/sound/soc/soc-compress.c
+++ b/sound/soc/soc-compress.c
@@ -1006,21 +1006,8 @@ int snd_soc_new_compress(struct snd_soc_pcm_runtime *rtd, int num)
 	rtd->compr = compr;
 	compr->private_data = rtd;
 
-	for_each_rtdcom(rtd, rtdcom) {
-		component = rtdcom->component;
-
-		if (component->driver->pcm_new) {
-			ret = component->driver->pcm_new(rtd);
-			if (ret < 0) {
-				pr_err("asoc: compress pcm constructor failed\n");
-				goto compr_err;
-			}
-		}
-	}
-
 	dev_info(rtd->card->dev, "Compress ASoC: %s <-> %s mapping ok\n",
 		 codec_dai->name, cpu_dai->name);
-
 	return ret;
 
 compr_err:
-- 
2.7.4

