From 5d9f9fa96854841efee5986cb14a624e10b5bf74 Mon Sep 17 00:00:00 2001
From: Jarkko Nikula <jarkko.nikula@linux.intel.com>
Date: Tue, 22 Sep 2020 16:03:48 +0300
Subject: [PATCH 26/29] can: m_can: m_can_pci: Make dev pointer assignment
 oneliner in probe

Signed-off-by: Jarkko Nikula <jarkko.nikula@linux.intel.com>
---
 drivers/net/can/m_can/m_can_pci.c | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/drivers/net/can/m_can/m_can_pci.c b/drivers/net/can/m_can/m_can_pci.c
index e9d615776fe0..bf4311ff5773 100644
--- a/drivers/net/can/m_can/m_can_pci.c
+++ b/drivers/net/can/m_can/m_can_pci.c
@@ -69,9 +69,9 @@ static struct m_can_ops m_can_pci_ops = {
 
 static int m_can_pci_probe(struct pci_dev *pci, const struct pci_device_id *id)
 {
+	struct device *dev = &pci->dev;
 	struct m_can_classdev *mcan_class;
 	struct m_can_pci_priv *priv;
-	struct device *dev;
 	void __iomem *base;
 	int ret;
 
@@ -85,8 +85,6 @@ static int m_can_pci_probe(struct pci_dev *pci, const struct pci_device_id *id)
 	if (ret)
 		return ret;
 
-	dev = &pci->dev;
-
 	base = pcim_iomap_table(pci)[M_CAN_PCI_MMIO_BAR];
 
 	if (!base) {
-- 
2.27.0

