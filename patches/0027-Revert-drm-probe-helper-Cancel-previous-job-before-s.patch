From 44cc3e6d19b52c5d438b62835d60d773278cdf6f Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Tue, 20 Jun 2023 05:27:50 +0800
Subject: [PATCH 27/30] Revert "drm/probe-helper: Cancel previous job before
 starting new one"

This reverts commit e33f374d65d9d935a8de1ca95a604230195518a9.
---
 drivers/gpu/drm/drm_probe_helper.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/drivers/gpu/drm/drm_probe_helper.c b/drivers/gpu/drm/drm_probe_helper.c
index d3f0d048594e7..e5432dcf69996 100644
--- a/drivers/gpu/drm/drm_probe_helper.c
+++ b/drivers/gpu/drm/drm_probe_helper.c
@@ -488,9 +488,8 @@ int drm_helper_probe_single_connector_modes(struct drm_connector *connector,
 		 */
 		dev->mode_config.delayed_event = true;
 		if (dev->mode_config.poll_enabled)
-			mod_delayed_work(system_wq,
-					 &dev->mode_config.output_poll_work,
-					 0);
+			schedule_delayed_work(&dev->mode_config.output_poll_work,
+					      0);
 	}
 
 	/* Re-enable polling in case the global poll config changed. */
-- 
2.25.1

