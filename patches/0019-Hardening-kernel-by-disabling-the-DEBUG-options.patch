From 269d1066945cc22342e4a960929cf178029aa429 Mon Sep 17 00:00:00 2001
From: "Baoli.Zhang" <baoli.zhang@intel.com>
Date: Mon, 9 Dec 2024 10:36:41 +0800
Subject: [PATCH 19/76] Hardening kernel by disabling the DEBUG options

Signed-off-by: Baoli.Zhang <baoli.zhang@intel.com>
---
 Intel/config | 30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

diff --git a/Intel/config b/Intel/config
index 983970473fcf7..a893a78741ba2 100644
--- a/Intel/config
+++ b/Intel/config
@@ -295,7 +295,7 @@ CONFIG_CRASH_CORE=y
 # CONFIG_KEXEC_FILE is not set
 # CONFIG_KEXEC_SIG is not set
 # CONFIG_KEXEC_JUMP is not set
-CONFIG_CRASH_DUMP=y
+# CONFIG_CRASH_DUMP is not set
 CONFIG_CRASH_HOTPLUG=y
 CONFIG_CRASH_MAX_MEMORY_RANGES=8192
 # end of Kexec and crash features
@@ -1009,7 +1009,7 @@ CONFIG_ELFCORE=y
 CONFIG_CORE_DUMP_DEFAULT_ELF_HEADERS=y
 CONFIG_BINFMT_SCRIPT=y
 # CONFIG_BINFMT_MISC is not set
-CONFIG_COREDUMP=y
+# CONFIG_COREDUMP is not set
 # end of Executable file formats
 
 #
@@ -7076,11 +7076,11 @@ CONFIG_FAT_DEFAULT_IOCHARSET="ascii"
 # Pseudo filesystems
 #
 CONFIG_PROC_FS=y
-CONFIG_PROC_KCORE=y
+# CONFIG_PROC_KCORE is not set
 CONFIG_PROC_VMCORE=y
 CONFIG_PROC_VMCORE_DEVICE_DUMP=y
 CONFIG_PROC_SYSCTL=y
-CONFIG_PROC_PAGE_MONITOR=y
+# CONFIG_PROC_PAGE_MONITOR is not set
 CONFIG_PROC_CHILDREN=y
 CONFIG_PROC_PID_ARCH_STATUS=y
 CONFIG_KERNFS=y
@@ -7189,7 +7189,7 @@ CONFIG_SUNRPC_BACKCHANNEL=y
 CONFIG_RPCSEC_GSS_KRB5=m
 CONFIG_RPCSEC_GSS_KRB5_ENCTYPES_AES_SHA1=y
 # CONFIG_RPCSEC_GSS_KRB5_ENCTYPES_AES_SHA2 is not set
-CONFIG_SUNRPC_DEBUG=y
+# CONFIG_SUNRPC_DEBUG is not set
 CONFIG_SUNRPC_XPRT_RDMA=m
 CONFIG_CEPH_FS=m
 CONFIG_CEPH_FSCACHE=y
@@ -7863,20 +7863,20 @@ CONFIG_STACK_VALIDATION=y
 CONFIG_MAGIC_SYSRQ=y
 CONFIG_MAGIC_SYSRQ_DEFAULT_ENABLE=0x0
 # CONFIG_MAGIC_SYSRQ_SERIAL is not set
-CONFIG_DEBUG_FS=y
-CONFIG_DEBUG_FS_ALLOW_ALL=y
+# CONFIG_DEBUG_FS is not set
+# CONFIG_DEBUG_FS_ALLOW_ALL is not set
 # CONFIG_DEBUG_FS_DISALLOW_MOUNT is not set
 # CONFIG_DEBUG_FS_ALLOW_NONE is not set
 CONFIG_HAVE_ARCH_KGDB=y
-CONFIG_KGDB=y
-CONFIG_KGDB_HONOUR_BLOCKLIST=y
-CONFIG_KGDB_SERIAL_CONSOLE=y
+# CONFIG_KGDB is not set
+# CONFIG_KGDB_HONOUR_BLOCKLIST is not set
+# CONFIG_KGDB_SERIAL_CONSOLE is not set
 # CONFIG_KGDB_TESTS is not set
 # CONFIG_KGDB_LOW_LEVEL_TRAP is not set
-CONFIG_KGDB_KDB=y
-CONFIG_KDB_DEFAULT_ENABLE=0x1
+# CONFIG_KGDB_KDB is not set
+# CONFIG_KDB_DEFAULT_ENABLE is not set
 # CONFIG_KDB_KEYBOARD is not set
-CONFIG_KDB_CONTINUE_CATASTROPHIC=0
+# CONFIG_KDB_CONTINUE_CATASTROPHIC is not set
 CONFIG_ARCH_HAS_EARLY_DEBUG=y
 CONFIG_ARCH_HAS_UBSAN_SANITIZE_ALL=y
 # CONFIG_UBSAN is not set
@@ -7922,7 +7922,7 @@ CONFIG_ARCH_HAS_DEBUG_VM_PGTABLE=y
 # CONFIG_DEBUG_VM is not set
 # CONFIG_DEBUG_VM_PGTABLE is not set
 CONFIG_ARCH_HAS_DEBUG_VIRTUAL=y
-# CONFIG_DEBUG_VIRTUAL is not set
+CONFIG_DEBUG_VIRTUAL=y
 # CONFIG_DEBUG_MEMORY_INIT is not set
 # CONFIG_DEBUG_PER_CPU_MAPS is not set
 CONFIG_HAVE_ARCH_KASAN=y
@@ -8054,7 +8054,7 @@ CONFIG_CONTEXT_SWITCH_TRACER=y
 CONFIG_TRACING=y
 CONFIG_GENERIC_TRACER=y
 CONFIG_TRACING_SUPPORT=y
-CONFIG_FTRACE=y
+# CONFIG_FTRACE is not set
 # CONFIG_BOOTTIME_TRACING is not set
 CONFIG_FUNCTION_TRACER=y
 CONFIG_FUNCTION_GRAPH_TRACER=y
-- 
2.43.0

