From f95e40138f1786f23669eb74678ed2ca370a47ae Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Fri, 12 Aug 2022 17:03:52 +0800
Subject: [PATCH 11/46] Revert "drm/bridge: analogix_dp: Grab runtime PM
 reference for DP-AUX"

This reverts commit 3623f833e19bb3d819f0b74301ba0681053e31f3.
---
 drivers/gpu/drm/bridge/analogix/analogix_dp_core.c | 13 +------------
 1 file changed, 1 insertion(+), 12 deletions(-)

diff --git a/drivers/gpu/drm/bridge/analogix/analogix_dp_core.c b/drivers/gpu/drm/bridge/analogix/analogix_dp_core.c
index c6a51d1c7ec9..3db0a631a6be 100644
--- a/drivers/gpu/drm/bridge/analogix/analogix_dp_core.c
+++ b/drivers/gpu/drm/bridge/analogix/analogix_dp_core.c
@@ -1630,19 +1630,8 @@ static ssize_t analogix_dpaux_transfer(struct drm_dp_aux *aux,
 				       struct drm_dp_aux_msg *msg)
 {
 	struct analogix_dp_device *dp = to_dp(aux);
-	int ret;
-
-	pm_runtime_get_sync(dp->dev);
-
-	ret = analogix_dp_detect_hpd(dp);
-	if (ret)
-		goto out;
 
-	ret = analogix_dp_transfer(dp, msg);
-out:
-	pm_runtime_put(dp->dev);
-
-	return ret;
+	return analogix_dp_transfer(dp, msg);
 }
 
 struct analogix_dp_device *
-- 
2.27.0

