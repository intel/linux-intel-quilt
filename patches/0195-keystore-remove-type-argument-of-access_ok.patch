From b898b02ca9a81dfd4c62aa80feeb514d632ca0f3 Mon Sep 17 00:00:00 2001
From: Cliff Cai <cliff.cai@intel.com>
Date: Tue, 8 Jan 2019 06:59:57 +0000
Subject: [PATCH 195/292] keystore: remove type argument of access_ok

kernel v5.0 changes the MACRO definition, no type any more.

Change-Id: Ib85dd7483c7f12aeb797dfa75110a81cd095d408
Signed-off-by: Cliff Cai <cliff.cai@intel.com>
---
 security/keystore/ioctls.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/security/keystore/ioctls.c b/security/keystore/ioctls.c
index e688ca9d299f..efa07d128f18 100644
--- a/security/keystore/ioctls.c
+++ b/security/keystore/ioctls.c
@@ -428,13 +428,13 @@ long keystore_ioctl(struct file *file, unsigned int cmd, unsigned long arg)
 		       __func__, cmd, size, sizeof(union keystore_ops_union));
 		return -ENOIOCTLCMD;
 	}
-	if (!access_ok(VERIFY_READ, (void *)arg, size)) {
+	if (!access_ok((void *)arg, size)) {
 		ks_err(KBUILD_MODNAME ": %s - cmd=%u no read access\n",
 		       __func__, cmd);
 		return -EFAULT;
 	}
 	if ((_IOC_DIR(cmd) & _IOC_READ) &&
-	    (!access_ok(VERIFY_WRITE, (void *)arg, size))) {
+	    (!access_ok((void *)arg, size))) {
 		ks_err(KBUILD_MODNAME ": %s - cmd=%u no write access\n",
 		       __func__, cmd);
 		return -EFAULT;
-- 
2.21.0

