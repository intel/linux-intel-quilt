From 23c2afd1110342016d43c1d70a5f8342753f25cb Mon Sep 17 00:00:00 2001
From: "David E. Box" <david.e.box@linux.intel.com>
Date: Tue, 4 Aug 2020 10:01:00 -0700
Subject: [PATCH 15/15] platform/x86: pmt_core: Add dev_dbg statements

Add dev_dbg statements for debbuging discovery table access

Signed-off-by: David E. Box <david.e.box@linux.intel.com>
---
 drivers/platform/x86/intel_pmt_core.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/platform/x86/intel_pmt_core.c b/drivers/platform/x86/intel_pmt_core.c
index 528bdaf4c5b8..388a9edb0c11 100644
--- a/drivers/platform/x86/intel_pmt_core.c
+++ b/drivers/platform/x86/intel_pmt_core.c
@@ -89,6 +89,7 @@ int pmt_get_base_address(struct device *dev, struct pmt_header *header,
 	/* Local access and BARID only for now */
 	switch (header->access_type) {
 	case ACCESS_LOCAL:
+		dev_dbg(dev, "access_type: LOCAL\n");
 		if (header->bir) {
 			dev_err(dev,
 				"Unsupported BAR index %d for access type %d\n",
@@ -117,6 +118,7 @@ int pmt_get_base_address(struct device *dev, struct pmt_header *header,
 		break;
 
 	case ACCESS_BARID:
+		dev_dbg(dev, "access_type: BARID\n");
 		*address = pci_resource_start(pci_dev, header->bir) +
 			   header->base_offset;
 		break;
@@ -127,6 +129,8 @@ int pmt_get_base_address(struct device *dev, struct pmt_header *header,
 		return -EINVAL;
 	}
 
+	dev_dbg(dev, "base_addr: 0x%lx\n", *address);
+
 	return 0;
 }
 EXPORT_SYMBOL_GPL(pmt_get_base_address);
-- 
2.27.0

