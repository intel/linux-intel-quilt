From 2acbe080c3bc1a5314112fe739c2d146102e8fbf Mon Sep 17 00:00:00 2001
From: Ranjan Dutta <ranjan.dutta@intel.com>
Date: Fri, 12 Aug 2022 17:03:51 +0800
Subject: [PATCH 09/46] Revert "gma500: fix an incorrect NULL check on list
 iterator"

This reverts commit 8dd2e5f9c1f13509091b9d1594307a62500b41fa.
---
 drivers/gpu/drm/gma500/psb_intel_display.c | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/drivers/gpu/drm/gma500/psb_intel_display.c b/drivers/gpu/drm/gma500/psb_intel_display.c
index 65e67e12a0a1..4256410535f0 100644
--- a/drivers/gpu/drm/gma500/psb_intel_display.c
+++ b/drivers/gpu/drm/gma500/psb_intel_display.c
@@ -532,15 +532,14 @@ void psb_intel_crtc_init(struct drm_device *dev, int pipe,
 
 struct drm_crtc *psb_intel_get_crtc_from_pipe(struct drm_device *dev, int pipe)
 {
-	struct drm_crtc *crtc;
+	struct drm_crtc *crtc = NULL;
 
 	list_for_each_entry(crtc, &dev->mode_config.crtc_list, head) {
 		struct gma_crtc *gma_crtc = to_gma_crtc(crtc);
-
 		if (gma_crtc->pipe == pipe)
-			return crtc;
+			break;
 	}
-	return NULL;
+	return crtc;
 }
 
 int gma_connector_clones(struct drm_device *dev, int type_mask)
-- 
2.27.0

